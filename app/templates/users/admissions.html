{% extends "users/base.html" %} {% block content %}
<div class="container-fluid px-4 admissions-page">
	<!-- Header with Minimal Design -->
	<div class="d-flex justify-content-between align-items-center mb-4 mt-3">
		<h2 class="fw-bold">Patient Admissions</h2>
		<button class="btn btn-primary" id="newAdmissionBtn">
			<i class="fas fa-plus me-2"></i> New Admission
		</button>
	</div>

	<!-- Summary Cards - Horizontal Layout -->
	<div class="row mb-4 g-4">
		<div class="col-md-3">
			<div class="card stat-card bg-soft-primary border-0">
				<div class="card-body">
					<h6 class="card-subtitle text-primary">Today's Admissions</h6>
					<h2 class="mb-0 fw-bold">{{ today_admissions_count }}</h2>
				</div>
			</div>
		</div>
		<div class="col-md-3">
			<div class="card stat-card bg-soft-success border-0">
				<div class="card-body">
					<h6 class="card-subtitle text-success">Current ICU Patients</h6>
					<h2 class="mb-0 fw-bold">{{ current_patients_count }}</h2>
				</div>
			</div>
		</div>
		<div class="col-md-3">
			<div class="card stat-card bg-soft-warning border-0">
				<div class="card-body">
					<h6 class="card-subtitle text-warning">Avg. Stay</h6>
					<h2 class="mb-0 fw-bold">3.2d</h2>
				</div>
			</div>
		</div>
	</div>

	<!-- Recent Admissions Table -->
	<div class="card">
		<div class="card-body">
			<h5 class="card-title mb-4">Recent Admissions</h5>
			<div class="table-responsive">
				<table class="table table-hover admissions-table">
					<thead>
						<tr>
							<th>PATIENT</th>
							<th>AGE/GENDER</th>
							<th>BED</th>
							<th>DOCTOR</th>
							<th>REASON</th>
						</tr>
					</thead>
					<tbody>
						{% for admission in recent_admissions %}
						<tr>
							<td>
								<strong class="patient-initials"
									>{{ admission.patient_initials }}</strong
								>
								{{ admission.patient_name }}
							</td>
							<td>{{ admission.age }} / {{ admission.gender }}</td>
							<td>{{ admission.bed_number }}</td>
							<td>Dr. {{ admission.doctor }}</td>
							<td>{{ admission.reason }}</td>
						</tr>
						{% endfor %}
					</tbody>
				</table>
			</div>
			<div class="mt-3 text-muted">
				Showing {{ recent_admissions|length }} of {{ today_admissions_count }}
				patients
			</div>
		</div>
	</div>
</div>

{% include 'users/partials/admission_form.html' %} {% endblock %} {% block
scripts %}
<script src="{{ url_for('static', filename='js/admissions.js') }}"></script>
{% endblock %}
