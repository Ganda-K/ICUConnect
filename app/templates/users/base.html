<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>ICUConnect - {% block title %}{% endblock %}</title>
		<!-- Bootstrap CSS -->
		<link
			href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
			rel="stylesheet" />
		<!-- Font Awesome -->
		<link
			rel="stylesheet"
			href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
		<!-- Leaflet CSS -->
		<link
			rel="stylesheet"
			href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
		<!-- Custom CSS -->
		<link
			rel="stylesheet"
			href="{{ url_for('static', filename='css/styles.css') }}" />
	</head>
	<body>
		<div class="wrapper">
			<nav id="sidebar">
				<div class="sidebar-header">
					<h3>ICUConnect</h3>
					<button
						type="button"
						id="sidebarCollapse"
						class="btn btn-sm btn-outline-light">
						<i class="fas fa-chevron-left"></i>
					</button>
				</div>
				<ul class="list-unstyled components">
					<li
						class="{% if request.endpoint == 'user.dashboard' %}active{% endif %}">
						<a href="{{ url_for('user.dashboard') }}">
							<i class="fas fa-tachometer-alt"></i> Dashboard
						</a>
					</li>
					<li
						class="{% if request.endpoint == 'admission.admissions' %}active{% endif %}">
						<a href="{{ url_for('admission.admissions') }}">
							<i class="fas fa-procedures"></i> Admissions
						</a>
					</li>
					<li
						class="{% if request.endpoint == 'discharge.discharges' %}active{% endif %}">
						<a href="{{ url_for('discharge.discharges') }}">
							<i class="fas fa-hospital-user"></i> Discharges
						</a>
					</li>
					<li
						class="{% if request.endpoint == 'user.guide' %}active{% endif %}">
						<a href="{{ url_for('user.guide') }}">
							<i class="fas fa-book"></i> User Guide
						</a>
					</li>
					<li>
						<a href="#"> <i class="fas fa-exchange-alt"></i> Referrals </a>
					</li>
					<li>
						<a href="#"> <i class="fas fa-cog"></i> Settings </a>
					</li>
					<li>
						<a href="{{ url_for('auth.logout') }}">
							<i class="fas fa-sign-out-alt"></i> Logout
						</a>
					</li>
				</ul>
				<div class="footer">
					<p>Copyright &copy; 2025 ICUConnect</p>
				</div>
			</nav>

			<div id="content">
				<nav class="navbar navbar-expand-lg navbar-light bg-light">
					<div class="container-fluid">
						<div class="time-display ms-auto">
							<h5 id="greeting">
								Good {{ get_greeting() }}, {{ current_user.hospital.name }}
							</h5>
							<div id="datetime">{{ current_datetime() }}</div>
						</div>
						<div class="d-flex">
							<button class="btn btn-outline-secondary me-2" id="searchBtn">
								<i class="fas fa-search"></i>
							</button>
							<button class="btn btn-outline-secondary" id="notificationsBtn">
								<i class="fas fa-bell"></i>
								<span class="badge bg-danger">3</span>
							</button>
						</div>
					</div>
				</nav>

				{% block content %}{% endblock %}
			</div>
		</div>

		<!-- Modal Forms Container -->
		<div id="modalFormsContainer">{% block modal_forms %}{% endblock %}</div>

		<!-- jQuery, Bootstrap JS -->
		<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
		<!-- Leaflet JS -->
		<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
		<!-- Custom JS -->
		<script src="{{ url_for('static', filename='js/main.js') }}"></script>
		{% block scripts %}{% endblock %}
	</body>
</html>
